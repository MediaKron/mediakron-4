<div class="timeline-filters">
  <% if(!options.layersHidden){ if(options.layersHidden != 'hidden'){ %> 
    <div class="filter-layers <% if(!options.filtersHidden){ if(!options.filtersEnabled != 'hidden'){ %>general-filters-on <% } } %>">
      <h3 class="sr-only">Layers</h3>
      <ul class="filter-by-layers">
        
      </ul>
    </div>
  <% } } %>
  
  <% if(!options.filtersHidden){ if(options.filtersHidden != 'hidden'){%> 
    <div id="content-search" class="content-action clearfix">
    	<span class="mk-icon mk-search"></span><label for="search-rows" class="sr-only">Search Titles</label>
    	<input id="search-rows" class="search" placeholder="Search by Title" type="text" name="search-rows" /><span class="mk-icon mk-close empty-search"></span><span class="empty-map-search mk-icon mk-close hide"></span>
    </div>
    <div class="general-filters">
      <h3><span class="mk-icon mk-filter"></span> Filters</h3>
      <div class="general-filters-inner">
      <div id="folder-filter" class="content-action clearfix">
  			<span class="mk-icon mk-folder"></span><label for="filter" class="sr-only">Filter by Folder</label>
  			<div class="select">
  				<select id="filter-folder" multiple="" name="filter" data-placeholder="Filter by Folder" >
    				<% var folder; for(var f = 0; f < folders.length; f++ ){ if(folders[f]){ folder = folders[f]; %>
  					<option value="<%= folder.get("uri") %>"><%= folder.get("title") %></option>
  					<% } } %>
  				</select>
  			</div>
  		</div>
      <div id="tag-filter" class="content-action clearfix">
  			<span class="mk-icon mk-tag"></span><label for="filter" class="sr-only">Filter by Tag</label>
  			<div class="select">
  				<select id="filter-tag" multiple="" name="filter" data-placeholder="Filter by Tag" >
    				<% var tag; for(var f = 0; f < tags.length; f++ ){ tag = tags[f]; %>
  					<option value="<%= tag.get("uri") %>"><%= tag.get("title") %></option>
  					<% } %>
  				</select>
  			</div>
  		</div>
  		<div id="type-filter" class="content-action clearfix">
  			<span class="mk-icon mk-filter"></span><label for="filter" class="sr-only">Filter by Type</label>
  			<div class="select">
  				<select id="filter-type" multiple="" name="filter" data-placeholder="Filter by Type" >
  					<option value="image">Images</option>
  					<option value="file">Files</option>
  					<option value="story">Stories</option>
  					<option value="audio">Audio</option>
  					<option value="video">Videos</option>
  					<option value="folder">Folders</option>
  					<option value="slideshow">Slideshows</option>
  					<option value="map">Maps</option>
  					<option value="timeline">Timelines</option>
  					<option value="comparison">Comparisons</option>
  					<option value="progression">Progressions</option>
  					<option value="layers">Layers</option>
  					<option value="narrative">Narratives(deprecated)</option>
  					<option value="text">Text(deprecated)</option>
  				</select>
  			</div>
  		</div>
  		
  		<% var authors = [];  if(Mediakron.authors){ authors = Mediakron.authors; }else{ authors = Mediakron.authors = _.object(Mediakron.items.map(function(item){ var user = item.get("user"); return [user.id,user.name]; })); }; %>
  		<div id="author-filter" class="content-action clearfix">
  			<span class="mk-icon mk-user"></span><label for="user" class="sr-only">Filter by Author</label>
  			<div class="select">
  				<select id="filter-user" name="user" class="filter" data-placeholder="Filter by Author" >
  					   <option value=""></option>
  					<% _.each(authors,function(author,id){ %>
  					  <option value="<%= id %>"><%= author %></option>
  					<% }); %>
  				</select>
  			</div>
  		</div>
      
    </div>
  </div>
  
  <% } } %>

</div>